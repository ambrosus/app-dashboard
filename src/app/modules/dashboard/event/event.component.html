<div class="amb">
  <div class="wrapper">
    <header class="amb__header">
      <div class="accordions">
        <div class="accordion">
          <div class="info title" appAccordion>
            <h2>{{ event.info.name || 'No title' }}</h2>
            <p class="assetId">{{ eventId }}</p>
            <p class="createdBy">
              by <span class="account-image"></span>
              <span class="address" *ngIf="event.content?.idData?.createdBy">{{ event.content.idData.createdBy }}</span>
            </p>
          </div>
          <div class="content">
            <div class="meta">
              <div class="w50">
                <h5>Event metadata</h5>
                <ul class="properties">
                  <li *ngIf="eventId">
                    <h6>Event id</h6>
                    <p>{{ eventId }}</p>
                  </li>
                  <li *ngIf="event.content?.idData?.assetId">
                    <h6>Asset id</h6>
                    <p>{{ event.content.idData.assetId }}</p>
                  </li>
                  <li *ngIf="event.content?.idData?.createdBy">
                    <h6>Created by</h6>
                    <p>{{ event.content.idData.createdBy }}</p>
                  </li>
                  <li *ngIf="event.content?.idData?.timestamp">
                    <h6>Timestamp</h6>
                    <p>{{ event.content.idData.timestamp }}</p>
                  </li>
                  <li *ngIf="event.content?.idData?.accessLevel">
                    <h6>Access level</h6>
                    <p>{{ event.content.idData.accessLevel }}</p>
                  </li>
                  <li *ngIf="event.content?.idData?.dataHash">
                    <h6>Data hash</h6>
                    <p>{{ event.content.idData.dataHash }}</p>
                  </li>
                </ul>
              </div>
              <div class="w50">
                <h5>Bundle metadata</h5>
                <ul class="properties">
                  <li *ngIf="event.metadata?.bundleId">
                    <h6>Bundle id</h6>
                    <p>{{ event.metadata.bundleId }}</p>
                  </li>
                  <li *ngIf="event.metadata?.bundleTransactionHash">
                    <h6>Bundle transaction hash</h6>
                    <p>{{ event.metadata.bundleTransactionHash }}</p>
                  </li>
                  <li *ngIf="event.metadata?.bundleUploadTimestamp">
                    <h6>Bundle upload timestamp</h6>
                    <p>{{ event.metadata.bundleUploadTimestamp }}</p>
                  </li>
                  <li *ngIf="event.metadata?.entityUploadTimestamp">
                    <h6>Entity upload timestamp</h6>
                    <p>{{ event.metadata.entityUploadTimestamp }}</p>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </header>
    <main class="amb__main">

      <!-- Images -->
      <section class="images" *ngIf="event.info?.images" style="margin-bottom: 25px;">
        <div class="image" *ngFor="let image of objectKeys(event.info.images)" [style.backgroundImage]="sanitizeUrl(event.info.images[image]['url'])"></div>
      </section>

      <!-- Description -->
      <section *ngIf="event.info?.description">
        <h5>Description</h5>
        <p style="color: #333;">{{ event.info.description }}</p>
      </section>

      <!-- Identifiers -->
      <section *ngIf="event.info?.identifiers?.identifiers">
        <h5>Identifiers</h5>
        <ul class="properties">
          <li *ngFor="let key of objectKeys(event.info.identifiers.identifiers)">
            <h6>{{ key }}</h6>
            <p>{{ event.info.identifiers.identifiers[key][0] }}</p>
          </li>
        </ul>
      </section>

      <!-- Documents -->
      <section *ngIf="event.info?.documents">
        <h5>Documents</h5>

        <ul class="properties">
          <li class="property" *ngFor="let document of objectKeys(event.info.documents)">
            <h6 *ngIf="event.info?.documents[document]?.name">{{ event.info.documents[document].name }}</h6>
            <a *ngIf="event.info?.documents[document]?.url" [href]="event.info.documents[document].url">
              {{ assetsService.getUrlName(event.info.documents[document].url) }}
            </a>
          </li>
        </ul>
      </section>

      <!-- Properties -->
      <section *ngIf="event.info?.properties && event.info.properties.length">
        <h5>Properties</h5>
        <ul class="properties">
          <li *ngFor="let property of event.info.properties">
            <h6 *ngIf="!isArray(property.value)">{{ property.key }}</h6>
            <p [ngClass]="{ 'json': isObject(property.value) }" [innerHtml]="isObject(property.value) ? valueJSON(stringify(property.value, null, 5)) : property.value"></p>
          </li>
        </ul>
      </section>

      <section class="groups" *ngIf="event.info?.groups && event.info.groups.length">
        <div class="group w50" *ngFor="let group of event.info.groups">
          <h5>{{ group.key }}</h5>

          <ul class="properties">
            <li *ngFor="let property of objectKeys(group.value)">
              <h6 *ngIf="!isArray(group.value[property])">{{ property }}</h6>
              <p [ngClass]="{ 'json': isObject(group.value[property]) }" [innerHtml]="isObject(group.value[property]) ? valueJSON(stringify(group.value[property], null, 5)) : group.value[property]"></p>
            </li>
          </ul>
        </div>
      </section>
    </main>
  </div>
</div>
