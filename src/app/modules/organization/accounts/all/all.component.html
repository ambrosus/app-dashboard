<div class="wrapper">
  <header class="header">
    <div>
      <h1>Accounts</h1>
    </div>
    <div style="flex: 0 0 auto;">
      <button type="button" (click)="openInviteDialog()">Invite</button>
    </div>
  </header>
  <main>
    <ul class="showMenu">
      <li [ngClass]="{ 'active': show === 'all' }" (click)="show = 'all'">All</li>
      <li [ngClass]="{ 'active': show === 'active' }" (click)="show = 'active'">Active</li>
      <li [ngClass]="{ 'active': show === 'pending' }" (click)="show = 'pending'">Pending</li>
      <li [ngClass]="{ 'active': show === 'disabled' }" (click)="show = 'disabled'">Disabled</li>
    </ul>

    <div class="table accounts">
      <!-- Active -->
      <div *ngIf="show === 'all' || show === 'active'">
        <div class="item" *ngFor="let acc of accounts">
          <div class="image">
          </div>
          <div class="body">
            <a [routerLink]="acc.address">
              <div class="body__main">
                <h5 class="title">
                  {{ acc.fullName || acc.email || 'No name' }}
                </h5>
                <p class="assetId">{{ acc.address }}</p>
              </div>
            </a>
            <div class="body__meta">
              <div></div>
              <div>
                <span class="status" style="color: #40D685;">Active</span>
                <span class="verticalMenu" appToggleDropDown>
                  <app-svg-icon name="menu-vertical" height="20" width="20"></app-svg-icon>
                  <app-drop-down [items]="{
                    items: [{
                      type: 'action',
                      title: 'Deactivate',
                      click: actions,
                      args: [self, 'accountModify', { address: acc.address, data: { permissions: [] } }]
                    }]
                  }"></app-drop-down>
                </span>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- Pending -->
      <div *ngIf="show === 'all' || show === 'pending'">
        <div class="item" *ngFor="let invite of invites">
          <div class="image">
          </div>
          <div class="body">
            <a>
              <div class="body__main">
                <h5 class="title">
                  {{ invite.email }}
                </h5>
                <p class="address" style="margin-bottom: 10px;">Created {{ invite.createdOn }}</p>
                <p class="createdBy">
                  from <span class="account-image"></span>
                  <span class="address">{{ invite.createdBy }}</span>
                </p>
              </div>
            </a>
            <div class="body__meta">
              <div>
                <button type="button" class="transparent" (click)="actions('inviteResend', { email: [ invite.email ] })">Resend</button>
              </div>
              <div>
                <span class="status" style="color: #F7A120;">Pending</span>
                <span class="verticalMenu" appToggleDropDown>
                  <app-svg-icon name="menu-vertical" height="20" width="20"></app-svg-icon>
                  <app-drop-down [items]="{
                    items: [
                      {
                        type: 'action',
                        title: 'Revoke',
                        click: actions,
                        args: [self, 'inviteDelete', { inviteId: invite.inviteId }]
                      },
                      {
                        type: 'action',
                        title: 'Resend',
                        click: actions,
                        args: [self, 'inviteResend', { email: [ invite.email ] }]
                      }
                    ]
                  }"></app-drop-down>
                </span>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- Disabled -->
      <div *ngIf="show === 'all' || show === 'disabled'">
        <div class="item" *ngFor="let acc of accountsDisabled">
          <div class="image">
          </div>
          <div class="body">
            <a [routerLink]="acc.address">
              <div class="body__main">
                <h5 class="title">
                  {{ acc.fullName || acc.email || 'No name' }}
                </h5>
                <p class="assetId">{{ acc.address }}</p>
              </div>
            </a>
            <div class="body__meta">
              <div></div>
              <div>
                <span class="status" style="color: #D64040;">Disabled</span>
                <span class="verticalMenu" appToggleDropDown>
                  <app-svg-icon name="menu-vertical" height="20" width="20"></app-svg-icon>
                  <app-drop-down [items]="{
                    items: [{
                      type: 'action',
                      title: 'Activate',
                      click: actions,
                      args: [self, 'accountModify', { address: acc.address, data: { permissions: ['create_asset', 'create_event'] } }]
                    }]
                  }"></app-drop-down>
                </span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

  </main>
</div>
