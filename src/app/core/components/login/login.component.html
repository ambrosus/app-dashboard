<!--
  Copyright: Ambrosus Technologies GmbH
  Email: tech@ambrosus.com
  This Source Code Form is subject to the terms of the Mozilla Public License, v. 2.0.
  If a copy of the MPL was not distributed with this file, You can obtain one at https://mozilla.org/MPL/2.0/.
  This Source Code Form is “Incompatible With Secondary Licenses”, as defined by the Mozilla Public License, v. 2.0.
-->
<a class="logo" routerLink="/login"><img src="/assets/raster/login-logo.png" alt="Ambrosus" /></a>
<p class="center" style="margin: 65px 0 25px">Choose your log-in method</p>

<app-tabs>
  <app-tab label="Private Key">
    <form class="form" [formGroup]="forms.privateKeyForm" (ngSubmit)="getAccount()" style="max-width: 624px">
      <label [ngClass]="{ error: errorPrivateKeyForm }">
        <span>Your private key</span>
        <span class="info">
          <app-svg-icon name="info" width="16" height="16"></app-svg-icon>
          <span class="message">For maximum security, your private key will <b>never</b> leave your browser.</span>
        </span>
        <input formControlName="privateKey" type="text" [appError]="[forms.privateKeyForm, true]" />
      </label>
      <button type="submit" [disabled]="forms.privateKeyForm.invalid" [promiseBtn]="promiseActionPrivateKeyForm">Log in</button>
    </form>
  </app-tab>
  <app-tab label="Email & Password">
    <form class="form" [formGroup]="forms.loginForm" (ngSubmit)="login()">
      <label [ngClass]="{ error: errorLoginForm }">
        <span>Your email</span>
        <input formControlName="email" type="email" name="new-email" autocomplete="new-password" [appError]="[forms.loginForm]" />
      </label>
      <label [ngClass]="{ error: errorLoginForm }">
        <span>Your password</span>
        <span class="show-password" (click)="showPassword = !showPassword">
          <app-svg-icon *ngIf="!showPassword" name="eye_open" width="16" height="16"></app-svg-icon>
          <app-svg-icon *ngIf="showPassword" name="eye_close" width="16" height="16"></app-svg-icon>
        </span>
        <input formControlName="password" name="new_password" autocomplete="new-password" [type]="showPassword ? 'text' : 'password'" [appError]="[forms.loginForm, true]" />
      </label>
      <button type="submit" [disabled]="forms.loginForm.invalid" [promiseBtn]="promiseActionLoginForm">
        Log in
      </button>
    </form>
  </app-tab>
</app-tabs>

<div class="center" style="margin: 50px 0 30px">
  <a routerLink="/signup">Register an account</a>
</div>
