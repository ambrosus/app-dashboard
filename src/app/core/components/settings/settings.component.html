<div class="block-center m-w-4 p-h-20" style="margin-top: 40px;">
  <h2 class="m-v-30 center">Settings</h2>

  <!-- Password reset -->
  <div *ngIf="has_account">
    <h4 class="m-b-30">Reset password</h4>
    <form class="form-group p-a-30" [formGroup]="resetForm" (ngSubmit)="changePassword()" [ngClass]="{ error: error }">
      <div class="form-text m-b-20">
        <label for="passwordConfirm">Old Password *</label>
        <input formControlName="oldPassword" type="password" name="oldPassword" id="oldPassword" spellcheck="false" appInput>
      </div>
      <div class="form-text m-b-20">
        <label for="password">Password *</label>
        <input (input)="checkPassword($event)" formControlName="password" type="password" name="password" id="password" spellcheck="false"
          appInput>
      </div>
      <div *ngIf="passwordExists" class="progress password-pad">
        <div class="progress_bar" [ngStyle]="{'width': width + '%', 'background': color}"></div>
        <p>Your strong password must: </p>
        <div [ngClass]="strengthObj.flags[0] ? 'pwdcheck-checked' : 'pwdcheck-unchecked'"></div><p class="display-inline">Contain a lowercase letter</p><br>
        <div [ngClass]="strengthObj.flags[1] ? 'pwdcheck-checked' : 'pwdcheck-unchecked'"></div><p class="display-inline">Contain a capital letter</p><br>
        <div [ngClass]="strengthObj.flags[2] ? 'pwdcheck-checked' : 'pwdcheck-unchecked'"></div><p class="display-inline">Contain a number</p><br>
        <div [ngClass]="strengthObj.flags[3] ? 'pwdcheck-checked' : 'pwdcheck-unchecked'"></div><p class="display-inline">Contain special character</p><br>
        <div [ngClass]="strengthObj.flags[4] ? 'pwdcheck-checked' : 'pwdcheck-unchecked'"></div><p class="display-inline">Be atleast 8 characters</p><br>
      </div>
      <div class="form-text m-b-20">
        <label for="passwordConfirm">Password Confirm *</label>
        <input formControlName="passwordConfirm" type="password" name="passwordConfirm" id="passwordConfirm" spellcheck="false" appInput>
      </div>
      <div class="flex flex-direction-r justify-content-fe align-items-c">
        <app-spinner *ngIf="spinner"></app-spinner>
        <button type="submit" class="abtn m-l-20 btn-solid-ablue">
          Reset password for {{ user ? user.full_name || user.email : 'current account' }}
        </button>
      </div>
      <div class="m-t-30 center">
        <h5 *ngIf="error" style="color: #ea7070;">{{ error }}</h5>
        <h5 *ngIf="resetSuccess" style="color: green;">Password changed successfully!</h5>
      </div>
    </form>
  </div>

  <hr>

  <h4 class="m-b-30">Logout</h4>
  <div class="flex flex-direction-c align-items-fs">
    <a class="abtn btn-outline-ablue m-b-20" (click)="logout()">Log out of {{ user ? user.full_name || user.email : 'current' }} account</a>
  </div>

</div>
